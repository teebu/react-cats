{"version":3,"file":"Breeds-Bk9uIClG.js","sources":["../../src/pages/Breeds.tsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport '../App.css';\nimport '../styles/DataPage.css';\nimport FancyList from '../helpers/FancyList';\nimport Skeleton from '../components/Skeleton';\nimport SearchBar from '../components/SearchBar';\nimport _ from 'lodash';\n\ninterface Breed {\n  breed: string;\n  country: string;\n  pattern: string;\n}\n\nfunction Breeds() {\n  const [breeds, setBreeds] = useState<Breed[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    fetchBreeds();\n  }, []);\n\n  const cleanUpData = (data: Breed[]): Breed[] =>\n    _.map(data, e => _.pick(e, ['breed', 'country', 'pattern']) as Breed);\n\n  const filteredBreeds = useMemo(() => {\n    if (!searchQuery) return breeds;\n\n    const query = searchQuery.toLowerCase();\n    return breeds.filter(\n      breed =>\n        breed.breed.toLowerCase().includes(query) ||\n        breed.country.toLowerCase().includes(query) ||\n        breed.pattern.toLowerCase().includes(query)\n    );\n  }, [breeds, searchQuery]);\n\n  const fetchBreeds = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch('https://catfact.ninja/breeds?limit=30');\n      const res_json = await res.json();\n      setBreeds(res_json.data);\n    } catch (error) {\n      console.error('Failed to fetch breeds:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: '2rem' }}>\n        <Skeleton height=\"40px\" width=\"200px\" borderRadius=\"0px\" />\n        <div style={{ marginTop: '1rem' }}>\n          {Array.from({ length: 10 }).map((_, i) => (\n            <div key={i} style={{ marginBottom: '0.5rem' }}>\n              <Skeleton height=\"60px\" borderRadius=\"0px\" />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"data-page breeds-page\">\n      <div className=\"page-header-full\">\n        <div className=\"header-stripe\"></div>\n        <h1 className=\"page-title-full\">\n          <span className=\"title-prefix\">DATABASE //</span>\n          CAT BREEDS\n        </h1>\n        <div className=\"search-wrapper\">\n          <SearchBar\n            onSearch={setSearchQuery}\n            placeholder=\"SEARCH: BREED / COUNTRY / PATTERN\"\n          />\n        </div>\n        {searchQuery && (\n          <div className=\"results-count\">\n            <span className=\"count-number\">{filteredBreeds.length}</span>\n            <span className=\"count-text\">RESULTS FOUND</span>\n          </div>\n        )}\n      </div>\n      <FancyList data={cleanUpData(filteredBreeds)} type=\"breeds\" />\n    </div>\n  );\n}\n\nexport default Breeds;\n"],"names":["Breeds","breeds","setBreeds","useState","loading","setLoading","searchQuery","setSearchQuery","useEffect","fetchBreeds","cleanUpData","data","_","e","filteredBreeds","useMemo","query","breed","res_json","error","jsx","Skeleton","i","jsxs","SearchBar","FancyList"],"mappings":"mNAcA,SAASA,GAAS,CAChB,KAAM,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAAkB,CAAA,CAAE,EAC1C,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAaC,CAAc,EAAIJ,EAAAA,SAAS,EAAE,EAEjDK,EAAAA,UAAU,IAAM,CACdC,EAAA,CACF,EAAG,CAAA,CAAE,EAEL,MAAMC,EAAeC,GACnBC,EAAE,IAAID,EAAME,GAAKD,EAAE,KAAKC,EAAG,CAAC,QAAS,UAAW,SAAS,CAAC,CAAU,EAEhEC,EAAiBC,EAAAA,QAAQ,IAAM,CACnC,GAAI,CAACT,EAAa,OAAOL,EAEzB,MAAMe,EAAQV,EAAY,YAAA,EAC1B,OAAOL,EAAO,OACZgB,GACEA,EAAM,MAAM,YAAA,EAAc,SAASD,CAAK,GACxCC,EAAM,QAAQ,cAAc,SAASD,CAAK,GAC1CC,EAAM,QAAQ,YAAA,EAAc,SAASD,CAAK,CAAA,CAEhD,EAAG,CAACf,EAAQK,CAAW,CAAC,EAElBG,EAAc,SAAY,CAC9BJ,EAAW,EAAI,EACf,GAAI,CAEF,MAAMa,EAAW,MADL,MAAM,MAAM,uCAAuC,GACpC,KAAA,EAC3BhB,EAAUgB,EAAS,IAAI,CACzB,OAASC,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,CAChD,QAAA,CACEd,EAAW,EAAK,CAClB,CACF,EAEA,OAAID,SAEC,MAAA,CAAI,MAAO,CAAE,QAAS,QACrB,SAAA,CAAAgB,MAACC,GAAS,OAAO,OAAO,MAAM,QAAQ,aAAa,MAAM,EACzDD,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,UAAW,MAAA,EACtB,SAAA,MAAM,KAAK,CAAE,OAAQ,EAAA,CAAI,EAAE,IAAI,CAACR,EAAGU,IAClCF,EAAAA,IAAC,MAAA,CAAY,MAAO,CAAE,aAAc,UAClC,SAAAA,MAACC,EAAA,CAAS,OAAO,OAAO,aAAa,KAAA,CAAM,CAAA,EADnCC,CAEV,CACD,CAAA,CACH,CAAA,EACF,EAKFC,EAAAA,KAAC,MAAA,CAAI,UAAU,wBACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAH,EAAAA,IAAC,MAAA,CAAI,UAAU,eAAA,CAAgB,EAC/BG,EAAAA,KAAC,KAAA,CAAG,UAAU,kBACZ,SAAA,CAAAH,EAAAA,IAAC,OAAA,CAAK,UAAU,eAAe,SAAA,cAAW,EAAO,YAAA,EAEnD,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,iBACb,SAAAA,EAAAA,IAACI,EAAA,CACC,SAAUjB,EACV,YAAY,mCAAA,CAAA,EAEhB,EACCD,GACCiB,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAH,EAAAA,IAAC,OAAA,CAAK,UAAU,eAAgB,SAAAN,EAAe,OAAO,EACtDM,EAAAA,IAAC,OAAA,CAAK,UAAU,aAAa,SAAA,eAAA,CAAa,CAAA,CAAA,CAC5C,CAAA,EAEJ,QACCK,EAAA,CAAU,KAAMf,EAAYI,CAAc,EAAG,KAAK,QAAA,CAAS,CAAA,EAC9D,CAEJ"}