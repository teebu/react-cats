{"version":3,"file":"Cat-CosjUTtt.js","sources":["../../src/helpers/Cat.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../App.css';\nimport ImageHolder from '../helpers/ImageHolder';\nimport { Link } from 'react-router-dom';\nimport FavoriteButton from '../components/FavoriteButton';\n\ninterface CatProps {\n  maxWidth?: number;\n  maxHeight?: number;\n  borderRadius?: string;\n  delay?: number;\n}\n\ninterface CatData {\n  id?: string;\n  url: string | null;\n  width?: number;\n  height?: number;\n}\n\nfunction Cat({\n  maxWidth = 200,\n  maxHeight = 200,\n  borderRadius = '90px',\n  delay = 100,\n}: CatProps) {\n  const [catData, setCatData] = useState<CatData[]>([{ url: null }]);\n\n  const fetchCatData = async () => {\n    const res = await fetch(\n      'https://api.thecatapi.com/v1/images/search?limit=1&order=random&size=medium&'\n    );\n    const res_json = await res.json();\n    setCatData(res_json);\n  };\n\n  useEffect(() => {\n    fetchCatData();\n  }, []);\n\n  const imgStyle = {\n    width: Fit(\n      catData[0].width || maxWidth,\n      catData[0].height,\n      maxWidth,\n      maxHeight\n    ).width,\n    height: Fit(\n      catData[0].width || maxWidth,\n      catData[0].height,\n      maxWidth,\n      maxHeight\n    ).height,\n    maxWidth: maxWidth,\n    maxHeight: maxHeight,\n    borderRadius: borderRadius,\n  };\n\n  return (\n    <div style={{ position: 'relative', display: 'inline-block' }}>\n      {catData[0].id && catData[0].url && (\n        <FavoriteButton\n          catId={catData[0].id}\n          catUrl={catData[0].url}\n          width={catData[0].width}\n          height={catData[0].height}\n        />\n      )}\n      <Link to={`/cat/${catData[0].id}`} className=\"shadowlink\">\n        <ImageHolder\n          style={{\n            width: catData[0].width,\n            height: catData[0].height,\n            ...imgStyle,\n          }}\n          delay={delay}\n          src={catData[0].url}\n          alt=\"cat\"\n        />\n      </Link>\n    </div>\n  );\n}\n\nfunction Fit(srcWidth: number, srcHeight: number, maxWidth: number, maxHeight: number): { width: number; height: number } {\n  const ratio = Math.min(maxWidth / srcWidth, maxHeight / srcHeight);\n  return { width: srcWidth * ratio, height: srcHeight * ratio };\n}\n\nexport default Cat;\n"],"names":["Cat","maxWidth","maxHeight","borderRadius","delay","catData","setCatData","useState","fetchCatData","res_json","useEffect","imgStyle","Fit","jsxs","jsx","FavoriteButton","Link","ImageHolder","srcWidth","srcHeight","ratio"],"mappings":"gJAoBA,SAASA,EAAI,CACX,SAAAC,EAAW,IACX,UAAAC,EAAY,IACZ,aAAAC,EAAe,OACf,MAAAC,EAAQ,GACV,EAAa,CACX,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAoB,CAAC,CAAE,IAAK,IAAA,CAAM,CAAC,EAE3DC,EAAe,SAAY,CAI/B,MAAMC,EAAW,MAHL,MAAM,MAChB,8EAAA,GAEyB,KAAA,EAC3BH,EAAWG,CAAQ,CACrB,EAEAC,EAAAA,UAAU,IAAM,CACdF,EAAA,CACF,EAAG,CAAA,CAAE,EAEL,MAAMG,EAAW,CACf,MAAOC,EACLP,EAAQ,CAAC,EAAE,OAASJ,EACpBI,EAAQ,CAAC,EAAE,OACXJ,EACAC,CAAA,EACA,MACF,OAAQU,EACNP,EAAQ,CAAC,EAAE,OAASJ,EACpBI,EAAQ,CAAC,EAAE,OACXJ,EACAC,CAAA,EACA,OACF,SAAAD,EACA,UAAAC,EACA,aAAAC,CAAA,EAGF,OACEU,EAAAA,KAAC,OAAI,MAAO,CAAE,SAAU,WAAY,QAAS,gBAC1C,SAAA,CAAAR,EAAQ,CAAC,EAAE,IAAMA,EAAQ,CAAC,EAAE,KAC3BS,EAAAA,IAACC,EAAA,CACC,MAAOV,EAAQ,CAAC,EAAE,GAClB,OAAQA,EAAQ,CAAC,EAAE,IACnB,MAAOA,EAAQ,CAAC,EAAE,MAClB,OAAQA,EAAQ,CAAC,EAAE,MAAA,CAAA,EAGvBS,EAAAA,IAACE,EAAA,CAAK,GAAI,QAAQX,EAAQ,CAAC,EAAE,EAAE,GAAI,UAAU,aAC3C,SAAAS,EAAAA,IAACG,EAAA,CACC,MAAO,CACL,MAAOZ,EAAQ,CAAC,EAAE,MAClB,OAAQA,EAAQ,CAAC,EAAE,OACnB,GAAGM,CAAA,EAEL,MAAAP,EACA,IAAKC,EAAQ,CAAC,EAAE,IAChB,IAAI,KAAA,CAAA,CACN,CACF,CAAA,EACF,CAEJ,CAEA,SAASO,EAAIM,EAAkBC,EAAmBlB,EAAkBC,EAAsD,CACxH,MAAMkB,EAAQ,KAAK,IAAInB,EAAWiB,EAAUhB,EAAYiB,CAAS,EACjE,MAAO,CAAE,MAAOD,EAAWE,EAAO,OAAQD,EAAYC,CAAA,CACxD"}