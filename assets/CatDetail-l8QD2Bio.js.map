{"version":3,"file":"CatDetail-l8QD2Bio.js","sources":["../../src/components/ShareButton.tsx","../../src/pages/CatDetail.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styles/ShareButton.css';\n\ninterface ShareButtonProps {\n  url: string;\n  title: string;\n  text?: string;\n}\n\nconst ShareButton: React.FC<ShareButtonProps> = ({ url, title, text }) => {\n  const [copied, setCopied] = useState(false);\n\n  const handleShare = async () => {\n    const shareData = {\n      title,\n      text: text || title,\n      url,\n    };\n\n    // Try Web Share API first (mobile)\n    if (navigator.share) {\n      try {\n        await navigator.share(shareData);\n      } catch (err) {\n        if ((err as Error).name !== 'AbortError') {\n          console.error('Error sharing:', err);\n        }\n      }\n    } else {\n      // Fallback: Copy to clipboard\n      try {\n        await navigator.clipboard.writeText(url);\n        setCopied(true);\n        setTimeout(() => setCopied(false), 2000);\n      } catch (err) {\n        console.error('Failed to copy:', err);\n      }\n    }\n  };\n\n  return (\n    <button\n      className=\"share-button\"\n      onClick={handleShare}\n      aria-label=\"Share\"\n      title={copied ? 'Copied!' : 'Share'}\n    >\n      {copied ? '‚úì Copied!' : 'üîó Share'}\n    </button>\n  );\n};\n\nexport default ShareButton;\n","import React, { useEffect, useState } from 'react';\nimport '../App.css';\nimport ProgressiveImage from 'react-progressive-graceful-image';\nimport ImageHolder from '../helpers/ImageHolder';\nimport ShareButton from '../components/ShareButton';\nimport FavoriteButton from '../components/FavoriteButton';\nimport { Link, useParams } from 'react-router-dom';\n\ninterface CatData {\n  url: string | null;\n  width?: number;\n  height?: number;\n  id?: string;\n}\n\nfunction CatDetail() {\n  const { id } = useParams<{ id: string }>();\n  const [catData, setCatData] = useState<CatData>({ url: null });\n\n  useEffect(() => {\n    const fetchCatData = async () => {\n      const res = await fetch(`https://api.thecatapi.com/v1/images/${id}`);\n      const res_json = await res.json();\n      setCatData(res_json);\n    };\n\n    fetchCatData();\n  }, [id]);\n\n  const imgStyle = { maxWidth: '600px', maxHeight: '600px' };\n\n  const shareUrl = window.location.href;\n\n  return (\n    <div style={{ padding: '2rem' }}>\n      <h1>Cat Details</h1>\n      {catData.url && (\n        <div style={{ position: 'relative', display: 'inline-block' }}>\n          <img src={catData.url} style={imgStyle} alt=\"Cat\" />\n          {id && (\n            <FavoriteButton\n              catId={id}\n              catUrl={catData.url}\n              width={catData.width}\n              height={catData.height}\n            />\n          )}\n        </div>\n      )}\n      <div style={{ marginTop: '1rem', display: 'flex', gap: '1rem', justifyContent: 'center' }}>\n        <ShareButton url={shareUrl} title=\"Check out this cute cat!\" text=\"Look at this adorable cat I found!\" />\n        <Link to=\"/cats\" style={{ textDecoration: 'none' }}>\n          <button className=\"share-button\">‚Üê Back to Cats</button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default CatDetail;\n"],"names":["ShareButton","url","title","text","copied","setCopied","useState","handleShare","shareData","err","jsx","CatDetail","id","useParams","catData","setCatData","useEffect","res_json","imgStyle","shareUrl","jsxs","FavoriteButton","Link"],"mappings":"6KASA,MAAMA,EAA0C,CAAC,CAAE,IAAAC,EAAK,MAAAC,EAAO,KAAAC,KAAW,CACxE,KAAM,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAAS,EAAK,EAEpCC,EAAc,SAAY,CAC9B,MAAMC,EAAY,CAChB,MAAAN,EACA,KAAMC,GAAQD,EACd,IAAAD,CAAA,EAIF,GAAI,UAAU,MACZ,GAAI,CACF,MAAM,UAAU,MAAMO,CAAS,CACjC,OAASC,EAAK,CACPA,EAAc,OAAS,cAC1B,QAAQ,MAAM,iBAAkBA,CAAG,CAEvC,KAGA,IAAI,CACF,MAAM,UAAU,UAAU,UAAUR,CAAG,EACvCI,EAAU,EAAI,EACd,WAAW,IAAMA,EAAU,EAAK,EAAG,GAAI,CACzC,OAASI,EAAK,CACZ,QAAQ,MAAM,kBAAmBA,CAAG,CACtC,CAEJ,EAEA,OACEC,EAAAA,IAAC,SAAA,CACC,UAAU,eACV,QAASH,EACT,aAAW,QACX,MAAOH,EAAS,UAAY,QAE3B,WAAS,YAAc,UAAA,CAAA,CAG9B,ECnCA,SAASO,GAAY,CACnB,KAAM,CAAE,GAAAC,CAAA,EAAOC,EAAA,EACT,CAACC,EAASC,CAAU,EAAIT,EAAAA,SAAkB,CAAE,IAAK,KAAM,EAE7DU,EAAAA,UAAU,IAAM,EACO,SAAY,CAE/B,MAAMC,EAAW,MADL,MAAM,MAAM,uCAAuCL,CAAE,EAAE,GACxC,KAAA,EAC3BG,EAAWE,CAAQ,CACrB,GAEA,CACF,EAAG,CAACL,CAAE,CAAC,EAEP,MAAMM,EAAW,CAAE,SAAU,QAAS,UAAW,OAAA,EAE3CC,EAAW,OAAO,SAAS,KAEjC,cACG,MAAA,CAAI,MAAO,CAAE,QAAS,QACrB,SAAA,CAAAT,EAAAA,IAAC,MAAG,SAAA,aAAA,CAAW,EACdI,EAAQ,KACPM,OAAC,MAAA,CAAI,MAAO,CAAE,SAAU,WAAY,QAAS,cAAA,EAC3C,SAAA,CAAAV,MAAC,OAAI,IAAKI,EAAQ,IAAK,MAAOI,EAAU,IAAI,MAAM,EACjDN,GACCF,EAAAA,IAACW,EAAA,CACC,MAAOT,EACP,OAAQE,EAAQ,IAChB,MAAOA,EAAQ,MACf,OAAQA,EAAQ,MAAA,CAAA,CAClB,EAEJ,EAEFM,EAAAA,KAAC,MAAA,CAAI,MAAO,CAAE,UAAW,OAAQ,QAAS,OAAQ,IAAK,OAAQ,eAAgB,QAAA,EAC7E,SAAA,CAAAV,MAACV,GAAY,IAAKmB,EAAU,MAAM,2BAA2B,KAAK,qCAAqC,EACvGT,EAAAA,IAACY,EAAA,CAAK,GAAG,QAAQ,MAAO,CAAE,eAAgB,MAAA,EACxC,SAAAZ,EAAAA,IAAC,SAAA,CAAO,UAAU,eAAe,0BAAc,CAAA,CACjD,CAAA,CAAA,CACF,CAAA,EACF,CAEJ"}