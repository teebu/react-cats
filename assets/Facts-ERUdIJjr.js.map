{"version":3,"file":"Facts-ERUdIJjr.js","sources":["../../src/pages/Facts.tsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport '../App.css';\nimport FancyList from '../helpers/FancyList';\nimport Skeleton from '../components/Skeleton';\nimport SearchBar from '../components/SearchBar';\nimport _ from 'lodash';\n\ninterface Fact {\n  fact: string;\n}\n\nfunction Facts() {\n  const [facts, setFacts] = useState<Fact[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n\n  useEffect(() => {\n    fetchFacts();\n  }, []);\n\n  const cleanUpData = (data: Fact[]): Fact[] => _.map(data, e => _.pick(e, ['fact']) as Fact);\n\n  const filteredFacts = useMemo(() => {\n    if (!searchQuery) return facts;\n\n    const query = searchQuery.toLowerCase();\n    return facts.filter(fact => fact.fact.toLowerCase().includes(query));\n  }, [facts, searchQuery]);\n\n  const fetchFacts = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(\n        'https://catfact.ninja/facts?limit=15&max_length=140'\n      );\n      const res_json = await res.json();\n      setFacts(res_json.data);\n    } catch (error) {\n      console.error('Failed to fetch facts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ padding: '2rem' }}>\n        <Skeleton height=\"40px\" width=\"280px\" borderRadius=\"8px\" />\n        <div style={{ marginTop: '1rem' }}>\n          {Array.from({ length: 8 }).map((_, i) => (\n            <div key={i} style={{ marginBottom: '0.5rem' }}>\n              <Skeleton height=\"50px\" borderRadius=\"8px\" />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <h1>Random Cat Facts</h1>\n      <SearchBar onSearch={setSearchQuery} placeholder=\"Search facts...\" />\n      {searchQuery && (\n        <p style={{ textAlign: 'center', color: 'var(--text-secondary)' }}>\n          Found {filteredFacts.length} fact{filteredFacts.length !== 1 ? 's' : ''}\n        </p>\n      )}\n      <FancyList data={cleanUpData(filteredFacts)} />\n    </div>\n  );\n}\n\nexport default Facts;\n"],"names":["Facts","facts","setFacts","useState","loading","setLoading","searchQuery","setSearchQuery","useEffect","fetchFacts","cleanUpData","data","_","e","filteredFacts","useMemo","query","fact","res_json","error","jsx","Skeleton","i","SearchBar","FancyList"],"mappings":"mNAWA,SAASA,GAAQ,CACf,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAiB,CAAA,CAAE,EACvC,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAaC,CAAc,EAAIJ,EAAAA,SAAS,EAAE,EAEjDK,EAAAA,UAAU,IAAM,CACdC,EAAA,CACF,EAAG,CAAA,CAAE,EAEL,MAAMC,EAAeC,GAAyBC,EAAE,IAAID,EAAME,GAAKD,EAAE,KAAKC,EAAG,CAAC,MAAM,CAAC,CAAS,EAEpFC,EAAgBC,EAAAA,QAAQ,IAAM,CAClC,GAAI,CAACT,EAAa,OAAOL,EAEzB,MAAMe,EAAQV,EAAY,YAAA,EAC1B,OAAOL,EAAM,OAAOgB,GAAQA,EAAK,KAAK,YAAA,EAAc,SAASD,CAAK,CAAC,CACrE,EAAG,CAACf,EAAOK,CAAW,CAAC,EAEjBG,EAAa,SAAY,CAC7BJ,EAAW,EAAI,EACf,GAAI,CAIF,MAAMa,EAAW,MAHL,MAAM,MAChB,qDAAA,GAEyB,KAAA,EAC3BhB,EAASgB,EAAS,IAAI,CACxB,OAASC,EAAO,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CAC/C,QAAA,CACEd,EAAW,EAAK,CAClB,CACF,EAEA,OAAID,SAEC,MAAA,CAAI,MAAO,CAAE,QAAS,QACrB,SAAA,CAAAgB,MAACC,GAAS,OAAO,OAAO,MAAM,QAAQ,aAAa,MAAM,EACzDD,EAAAA,IAAC,MAAA,CAAI,MAAO,CAAE,UAAW,MAAA,EACtB,SAAA,MAAM,KAAK,CAAE,OAAQ,CAAA,CAAG,EAAE,IAAI,CAACR,EAAGU,IACjCF,EAAAA,IAAC,MAAA,CAAY,MAAO,CAAE,aAAc,UAClC,SAAAA,MAACC,EAAA,CAAS,OAAO,OAAO,aAAa,KAAA,CAAM,CAAA,EADnCC,CAEV,CACD,CAAA,CACH,CAAA,EACF,SAKD,MAAA,CACC,SAAA,CAAAF,EAAAA,IAAC,MAAG,SAAA,kBAAA,CAAgB,EACpBA,EAAAA,IAACG,EAAA,CAAU,SAAUhB,EAAgB,YAAY,kBAAkB,EAClED,UACE,IAAA,CAAE,MAAO,CAAE,UAAW,SAAU,MAAO,uBAAA,EAA2B,SAAA,CAAA,SAC1DQ,EAAc,OAAO,QAAMA,EAAc,SAAW,EAAI,IAAM,EAAA,EACvE,EAEFM,EAAAA,IAACI,EAAA,CAAU,KAAMd,EAAYI,CAAa,CAAA,CAAG,CAAA,EAC/C,CAEJ"}